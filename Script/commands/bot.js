const fs = global.nodemodule["fs-extra"];

module.exports.config = {
  name: "Obot",
  version: "1.0.1",
  hasPermssion: 0,
  credits: "ùêÇùêòùêÅùêÑùêë ‚ò¢Ô∏è_ñ£ò -ùêÅùêéùêì ‚ö†Ô∏è ùëªùë¨ùë®ùë¥_ ‚ò¢Ô∏è",
  description: "goibot",
  commandCategory: "Noprefix",
  usages: "noprefix",
  cooldowns: 5,
};

module.exports.handleEvent = async function({ api, event, args, Threads, Users }) {
  try {
    const { threadID, messageID, body, senderID } = event;
    if (!body) return;

    // Get sender name
    const name = await Users.getNameUser(senderID);

    // The list of possible random replies when message contains 'bot' or 'Bot'
    const botReplies = [
      "‡¶¨‡ßá‡¶∂‡¶ø bot Bot ‡¶ï‡¶∞‡¶≤‡ßá leave ‡¶®‡¶ø‡¶¨‡ßã ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅüòíüòí ",
      "‡¶∂‡ßÅ‡¶®‡¶¨‡ßã ‡¶®‡¶æüòº ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡¶™‡ßç‡¶∞‡ßá‡¶Æ ‡¶ï‡¶∞‡¶æ‡¶á ‡¶¶‡¶æ‡¶ì ‡¶®‡¶øü•∫ ‡¶™‡¶ö‡¶æ ‡¶§‡ßÅ‡¶Æ‡¶øü•∫ ",
      "‡¶Ü‡¶Æ‡¶ø ‡¶Ü‡¶¨‡¶æ‡¶≤ ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶§‡ßá ‡¶ï‡¶•‡¶æ ‡¶¨‡¶≤‡¶ø ‡¶®‡¶æ,oküòí ",
      "‡¶è‡¶§ ‡¶ï‡¶æ‡¶õ‡ßá‡¶ì ‡¶è‡¶∏‡ßã ‡¶®‡¶æ,‡¶™‡ßç‡¶∞‡ßá‡¶Æ ‡¶è ‡¶™‡¶∞‡ßá ‡¶Ø‡¶æ‡¶¨‡ßã ‡¶§‡ßã üôà ",
      "Bolo Babu, ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶ï‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡ßã? üôàüíã ",
      "‡¶¨‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶∞ ‡¶°‡¶æ‡¶ï‡¶≤‡ßá ‡¶Æ‡¶æ‡¶•‡¶æ ‡¶ó‡¶∞‡¶Æ ‡¶π‡¶Ø‡¶º ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅüòë",
      "‡¶π‡¶æ ‡¶¨‡¶≤‡ßãüòí,‡¶ï‡¶ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶øüòêüòë?",
      "‡¶è‡¶§‡ßã ‡¶°‡¶æ‡¶ï‡¶õ‡¶ø‡¶∏ ‡¶ï‡ßã‡¶®‡ßã?‡¶ó‡¶æ‡¶≤‡¶ø ‡¶∂‡ßÅ‡¶®‡¶¨‡¶ø ‡¶®‡¶æ‡¶ï‡¶ø? ü§¨",
      "‡¶Æ‡ßá‡¶Ø‡¶º‡ßá ‡¶π‡¶≤‡ßá ‡¶¨‡¶∏ ‡¶Ü‡¶¨‡ßç‡¶¶‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π'‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶™‡ßç‡¶∞‡ßá‡¶Æ ‡¶ï‡¶∞‡ßãüôà??. ",
      "‡¶Ü‡¶∞‡ßá Bolo ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶ú‡¶æ‡¶® ,‡¶ï‡ßá‡¶Æ‡¶® ‡¶Ü‡¶∏‡ßã?üòö ",
      "Bot ‡¶¨‡¶≤‡ßá ‡¶Ö‡¶∏‡¶Æ‡ßç‡¶Æ‡¶æ‡¶® ‡¶ï‡¶∞‡¶ö‡ßç‡¶õ‡¶ø‡¶õ,üò∞üòø",
      "Hop bediüòæ,Boss ‡¶¨‡¶≤ bossüòº",
      "‡¶ö‡ßÅ‡¶™ ‡¶•‡¶æ‡¶ï ,‡¶®‡¶æ‡¶á ‡¶§‡ßã ‡¶§‡ßã‡¶∞ ‡¶¶‡¶æ‡¶§ ‡¶≠‡ßá‡¶ó‡ßá ‡¶¶‡¶ø‡¶¨‡ßã ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ",
      "Bot ‡¶®‡¶æ , ‡¶ú‡¶æ‡¶®‡ßÅ ‡¶¨‡¶≤ ‡¶ú‡¶æ‡¶®‡ßÅ üòò ",
      "‡¶¨‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶∞ Disturb ‡¶ï‡¶∞‡ßá‡¶õ‡¶ø‡¶∏ ‡¶ï‡ßã‡¶®‡ßãüòæ,‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶¨‡¶∏ ‡¶Ü‡¶¨‡ßç‡¶¶‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶è‡¶∞ ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶¨‡ßç‡¶Ø‡¶æ‡¶∏‡ßç‡¶§ ‡¶Ü‡¶∏‡¶øüòã",
      "‡¶Ü‡¶Æ‡¶ø ‡¶ó‡¶∞‡ßÄ‡¶¨ ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ï‡¶•‡¶æ ‡¶¨‡¶≤‡¶ø ‡¶®‡¶æüòºüòº",
      "‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡¶°‡¶æ‡¶ï‡¶≤‡ßá ,‡¶Ü‡¶Æ‡¶ø ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÇ ‡¶ï‡¶ø‡¶∏ ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶¨‡ßãüòò ",
      "‡¶Ü‡¶∞‡ßá ‡¶Ü‡¶Æ‡¶ø ‡¶Æ‡¶ú‡¶æ ‡¶ï‡¶∞‡¶æ‡¶∞ mood ‡¶è ‡¶®‡¶æ‡¶áüòí",
      "‡¶π‡¶æ ‡¶ú‡¶æ‡¶®‡ßÅ , ‡¶è‡¶á‡¶¶‡¶ø‡¶ï ‡¶è ‡¶Ü‡¶∏‡ßã ‡¶ï‡¶ø‡¶∏ ‡¶¶‡ßá‡¶áü§≠ üòò",
      "‡¶¶‡ßÇ‡¶∞‡ßá ‡¶Ø‡¶æ, ‡¶§‡ßã‡¶∞ ‡¶ï‡ßã‡¶®‡ßã ‡¶ï‡¶æ‡¶ú ‡¶®‡¶æ‡¶á, ‡¶∂‡ßÅ‡¶ß‡ßÅ bot bot ‡¶ï‡¶∞‡¶ø‡¶∏  üòâüòãü§£",
      "‡¶§‡ßã‡¶∞ ‡¶ï‡¶•‡¶æ ‡¶§‡ßã‡¶∞ ‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶ï‡ßá‡¶â ‡¶∂‡ßÅ‡¶®‡ßá ‡¶®‡¶æ ,‡¶§‡ßã ‡¶Ü‡¶Æ‡¶ø ‡¶ï‡ßã‡¶®‡ßã ‡¶∂‡ßÅ‡¶®‡¶¨‡ßã ?ü§îüòÇ ",
      "‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡¶°‡ßá‡¶ï‡ßã ‡¶®‡¶æ,‡¶Ü‡¶Æ‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶∏‡ßç‡¶§ ‡¶Ü‡¶õ‡¶ø",
      "‡¶ï‡¶ø ‡¶π‡¶≤‡ßã ,‡¶Æ‡¶ø‡¶∏ ‡¶ü‡¶ø‡¶∏ ‡¶ï‡¶∞‡¶ö‡ßç‡¶õ‡¶ø‡¶∏ ‡¶®‡¶æ‡¶ï‡¶øü§£",
      "‡¶¨‡¶≤‡ßã ‡¶ï‡¶ø ‡¶¨‡¶≤‡¶¨‡¶æ, ‡¶∏‡¶¨‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶Æ‡¶®‡ßá ‡¶¨‡¶≤‡¶¨‡¶æ ‡¶®‡¶æ‡¶ï‡¶ø?ü§≠ü§è",
      "‡¶ï‡¶æ‡¶≤‡¶ï‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶ï‡¶∞‡¶ø‡¶∏ ‡¶§‡ßã ‡¶è‡¶ï‡¶ü‡ßÅ üòà",
      "‡¶π‡¶æ ‡¶¨‡¶≤‡ßã, ‡¶∂‡ßÅ‡¶®‡¶õ‡¶ø ‡¶Ü‡¶Æ‡¶ø üòè",
      "‡¶Æ‡¶æ‡¶á‡¶Ø‡¶º‡¶æ ‡¶π‡¶≤‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶¨‡¶∏ ‡¶Ü‡¶¨‡ßç‡¶¶‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶ï‡ßá Ummmmha ‡¶¶‡ßá üòí",
      "‡¶¨‡¶≤‡ßã ‡¶ï‡¶ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶ø ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø",
      "‡¶Ü‡¶Æ‡¶ø ‡¶§‡ßã ‡¶Ö‡¶®‡ßç‡¶ß ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶¶‡ßá‡¶ñ‡¶ø ‡¶®‡¶æüê∏ üòé",
      "Bot ‡¶®‡¶æ ‡¶ú‡¶æ‡¶®‡ßÅ,‡¶¨‡¶≤ üòå",
      "‡¶¨‡¶≤‡ßã ‡¶ú‡¶æ‡¶®‡ßÅ üåö",
      "‡¶§‡ßã‡¶∞ ‡¶ï‡¶ø ‡¶ö‡ßã‡¶ñ‡ßá ‡¶™‡¶°‡¶º‡ßá ‡¶®‡¶æ ‡¶Ü‡¶Æ‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶∏‡ßç‡¶§ ‡¶Ü‡¶õ‡¶øüòí",
      // --- ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶á‡¶ö‡ßç‡¶õ‡¶æ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶è‡¶ñ‡¶æ‡¶®‡ßá‡¶ì ‡¶Ü‡¶∞‡ßã ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßã ---
    ];

    // The map of triggers and replies for normal messages (from your old code)
    const replyMap = {
      "bot": () => botReplies[Math.floor(Math.random() * botReplies.length)],
      "Bot": () => botReplies[Math.floor(Math.random() * botReplies.length)],
      // ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá‡¶∞ trigger-reply ‡¶ó‡ßÅ‡¶≤‡ßã ‡¶¨‡¶∏‡¶æ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßã ‡¶Ø‡ßá‡¶Æ‡¶®:
      // "i love you": "I love you too üòò",
      // "hello": "‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã ‡¶ï‡ßá‡¶Æ‡¶® ‡¶Ü‡¶õ‡ßã?",
      // ... ‡¶á‡¶§‡ßç‡¶Ø‡¶æ‡¶¶‡¶ø
    };

    // Lowercase body for case insensitive match
    const lcBody = body.toLowerCase();

    // ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶¨ ‡¶Ø‡¶¶‡¶ø message 'bot' ‡¶∂‡¶¨‡ßç‡¶¶ ‡¶•‡¶æ‡¶ï‡ßá
    if (lcBody.includes("bot")) {
      // random reply from botReplies
      const randomReply = botReplies[Math.floor(Math.random() * botReplies.length)];
      return api.sendMessage(randomReply, threadID, messageID);
    }

    // ‡¶Ø‡¶¶‡¶ø ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶® trigger ‡¶•‡¶æ‡¶ï‡ßá replyMap ‡¶è
    for (const key in replyMap) {
      if (lcBody.includes(key.toLowerCase())) {
        let reply = replyMap[key];
        if (typeof reply === "function") reply = reply();
        return api.sendMessage(reply, threadID, messageID);
      }
    }
  } catch (e) {
    console.log(e);
  }
};
